<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Hangman</title>

    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous">
    <link rel="stylesheet" href="css/style.css">

</head>
<body>
    <img class="img-c" src="images/header.png" alt="header">

    <div class="jumbotron col-sm-8">
        <p>Press any key to get started!</p>
        <p>You just pressed <span id="user-key"><strong>_</strong></span>.</p>
        <p>Wins <span id="wins"></span></p>
        <p>Current Word</p>
        <p><span id="placeholder"></span></p>
        <p>Number of guesses remaining:</p>
        <p></p>
        <p>Letters already guessed:</p>
        <p><span id="wrong-select"></span></p>
        <img class="img-c" src="images/body.png" alt="">
    </div>


    <script type="text/javascript">


    // Starting a new game and selecting the word for the hangman game.
        var wordList = ["espionage", "mnemonic", "megahertz", "xylophone", "zigzagging", "rickshaw", "kilobyte", "daiquiri", "rhubarb", "wyvern"];

    // Randomly selecting a word from the list, and setting placeholder for the length of the word.
        var selection = wordList[Math.floor(Math.random() * wordList.length)];
        var placeholder = "";
        console.log(selection);

        for (var i=0; i<selection.length; i++) {
            placeholder = placeholder + "_";
            document.getElementById("placeholder").innerHTML = placeholder;
        }
    // Setting up the onKey event for user selection.
        var userGuess = document.getElementById("user-key");
        var wrongSelect = [];
        var availableGuess = 10;
        var totalGuess = 0;

        document.onkeyup = function (event) {
            userGuess.textContent = event.key;
            if (availableGuess > totalGuess) {
                for (var i = 0; i < selection.length; i++) {
                    if (availableGuess > totalGuess) {
                        if (event.key === selection[i]) {
                            placeholder = placeholder.slice(0, i) + event.key + placeholder.slice(i+1);
                            console.log(placeholder);
                            document.getElementById("placeholder").innerHTML = placeholder;
                        }
                    }
                }

                        if (event.key !== selection[i]) {
                            wrongSelect.push(event.key);
                            availableGuess = availableGuess - 1;
                            document.getElementById("wrong-select").innerHTML = wrongSelect;
                            console.log(wrongSelect);
                        }
            }
            else {
                alert ("You lose.");
                document.location.reload();
            }
        
}

    </script> 
</body>
</html>